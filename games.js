// Petra.bet Games - Static Data (scraped from https://petra.bet/casino/show-games)
const games = [
  {
    title: 'Lightning Dice',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/b20ad2960d2c471d85764b270d9b57f6_cfc1268f14.png',
    link: '/casino/show-games/play/lightning-dice/657'
  },
  {
    title: 'Football studio',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/024d6a804e784c0b8149ea62d73abfeb_185d7f56df.png',
    link: '/casino/show-games/play/football-studio/655'
  },
  {
    title: 'Sweet Bonanza CandyLand',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/35eba85f4e674ac9a4cdf828db13af0d_40a1bd6479.png',
    link: '/casino/show-games/play/sweet-bonanza-candyland/8421'
  },
  {
    title: 'First Person XXXtreme Lightning Roulette',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/8b61903ddd1aafb458c0dca0a8cfffcebd1844bf_d8631b111e.png',
    link: '/casino/show-games/play/first-person-xxxtreme-lightning-roulette/5380'
  },
  {
    title: 'Dream Catcher',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/3900be34920746c3933a59067b337bca_714e5a0366.png',
    link: '/casino/show-games/play/dream-catcher/669'
  },
  {
    title: 'Super Sic Bo',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/c7d19abeb8414ff8a0b941bdd9a073cb_899c9d9b49.png',
    link: '/casino/show-games/play/super-sic-bo/672'
  },
  {
    title: 'Mega Ball',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/2a8b4666a874039ab63592114ba0d4e4_3206d5776f.png',
    link: '/casino/show-games/play/mega-ball/811'
  },
  {
    title: 'Crazy Time',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/b771a7c4f2285943a1d7562bbe6ce05f_e3a7c3fcef.png',
    link: '/casino/show-games/play/crazy-time/815'
  },
  {
    title: 'Craps',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/52b698e537c2cbe1c04fd7da9e217be2_90ba6d78c7.png',
    link: '/casino/show-games/play/craps/816'
  },
  {
    title: 'Fan Tan',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/dc3c1a9677a446df948e7757c3da6551_cc0b2efecb.png',
    link: '/casino/show-games/play/fan-tan/2092'
  },
  {
    title: 'Cash or Crash',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/5d6ef121b3cc47b88b37c2485dbf2fd7_ae7c2d8177.png',
    link: '/casino/show-games/play/cash-or-crash/2093'
  },
  {
    title: 'Bac Bo',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/9c45ebf83907bfae80190294bbfa24a5a42a2523_5e69a2cbd9.png',
    link: '/casino/show-games/play/bac-bo/2944'
  },
  {
    title: 'Super Andar Bahar',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/be38b1eb3d85e8d266bae8560d32f40b088a8af3_658e359e2f.png',
    link: '/casino/show-games/play/super-andar-bahar/3330'
  },
  {
    title: 'Crazy Coin Flip',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/4dc05678dbf9c00a8d15cde87f6dacab94060552_70af05a95d.png',
    link: '/casino/show-games/play/crazy-coin-flip/3495'
  },
  {
    title: 'Football Studio Dice',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/edb5e777a12d3d941de320c3b0ec0cd4663f53cf_cbf99f1952.png',
    link: '/casino/show-games/play/football-studio-dice/4205'
  },
  {
    title: 'Dead or Alive: Saloon',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/2a9ddb7a835f3ab48d79719ee00376c8bb0e20ac_60d50ec6ce.png',
    link: '/casino/show-games/play/dead-or-alive:-saloon/4529'
  },
  {
    title: 'Extra Chilli Epic Spins',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/5b402f9cc696da4604443a8674db85759a84988b_d06844a48e.png',
    link: '/casino/show-games/play/extra-chilli-epic-spins/4754'
  },
  {
    title: 'Funky Time',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/5748182e44e5e23516f9a61cece86148b9b26509_1d4a9fff69.png',
    link: '/casino/show-games/play/funky-time/4996'
  },
  {
    title: "Ultimate Texas Hold'em",
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/cce071dc023d27a64a152bdc44c72adfe052c8df_560eb923d6.png',
    link: "/casino/show-games/play/ultimate-texas-hold'em/5140"
  },
  {
    title: "Gonzo's Treasure Map",
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/066b3989bd8429a953688b9d854b386ac10113d6_decc6b04e5.png',
    link: "/casino/show-games/play/gonzo's-treasure-map/5508"
  },
  {
    title: 'Instant Super Sic Bo',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/c46e66c487ac4789a98964ad935e2037_b486fe571a.png',
    link: '/casino/show-games/play/instant-super-sic-bo/5799'
  },
  {
    title: 'Crazy Pachinko',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/fabdba26c77d40a1ad0e92e1af15a9e2_563d7b7bd9.png',
    link: '/casino/show-games/play/crazy-pachinko/5801'
  },
  {
    title: 'Lightning Dragon Tiger',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/d4fe7b7b1f8d498c9bc467c536338548_6c7f8cb5a5.png',
    link: '/casino/show-games/play/lightning-dragon-tiger/6378'
  },
  {
    title: 'Balloon Race',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/7d8761be8fc91575815e795db8a7390f3a72e072_421f5716b6.png',
    link: '/casino/show-games/play/balloon-race/6541'
  },
  {
    title: 'Lightning Storm',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/4a260b7d844e09d138752312e7125bc759379be8_ada58fb5dd.png',
    link: '/casino/show-games/play/lightning-storm/6640'
  },
  {
    title: 'Deal or No Deal',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/2b5e2d4b768e8a915910ba759fce37c12d40636b_c9a1eb97e8.png',
    link: '/casino/show-games/play/deal-or-no-deal/7048'
  },
  {
    title: 'Crazy Balls',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/7826a427d12f16dbf6d1d307ba4f090c137434ad_88821cb425.png',
    link: '/casino/show-games/play/crazy-balls/7086'
  },
  {
    title: 'Dragon Tiger',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/ebde8483f9784fafb58db08c3f162941_fe6da78f74.png',
    link: '/casino/show-games/play/dragon-tiger/8425'
  },
  {
    title: 'Mega Roulette',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/6ed1a261412f4d53845d9abf409be86d_8d883e6482.png',
    link: '/casino/show-games/play/mega-roulette/8431'
  },
  {
    title: 'Mega Wheel',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/3767449285304828b177deb6995bdecc_310a4bbe0b.png',
    link: '/casino/show-games/play/mega-wheel/8435'
  },
  {
    title: 'Snakes & Ladders Live',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/291ff46bf5449fdf183b01adfe77ffb44b5cf252_5d8d3fcbab.png',
    link: '/casino/show-games/play/snakes-and-ladders-live/9125'
  },
  {
    title: 'Vegas Ball Bonanza',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/1da500c8bfabd0191c24fd4a8bc7af70c711ee6b_c5bf88c248.png',
    link: '/casino/show-games/play/vegas-ball-bonanza/9170'
  },
  {
    title: 'Auto Mega Roulette',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/03553cb79dbdcdde265a7b6729103a9ccb9bc38c_f1b4e91b39.png',
    link: '/casino/show-games/play/auto-mega-roulette/9172'
  },
  {
    title: 'BlackjackX 12',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/c5149225ab0143d09f54f642be3cf673_a0b9b6ba3a.jpg',
    link: '/casino/show-games/play/blackjackx-12/10861'
  },
  {
    title: 'BlackjackX 13',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/acdbb203be0a47868d3ccb99a0fd4b69_8195080a77.jpg',
    link: '/casino/show-games/play/blackjackx-13/10863'
  },
  {
    title: 'BlackjackX 23',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/c5fc9d5f6dab4b41969d4ec0b635cee2_09d61683bf.jpg',
    link: '/casino/show-games/play/blackjackx-23/10867'
  },
  {
    title: 'BlackjackX 26',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/6bdee81147094138a139f9ad8ed32f52_6b261af2d4.jpg',
    link: '/casino/show-games/play/blackjackx-26/10869'
  },
  {
    title: 'BlackjackX 27',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/729b215ea49f4226b2c9f72020b9a929_2bd65a3039.jpg',
    link: '/casino/show-games/play/blackjackx-27/10871'
  },
  {
    title: 'BlackjackX 28',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/dd16b8edbb204be1b414af61eb4b569f_3f31187b1c.jpg',
    link: '/casino/show-games/play/blackjackx-28/10873'
  },
  {
    title: 'BlackjackX 30',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/0773de54d26f48418576bbe761858da5_02923e5325.jpg',
    link: '/casino/show-games/play/blackjackx-30/10877'
  },
  {
    title: 'Fortune Roulette',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/3f0d18883e9e47169f851bdb70620c2a_55717eb79f.png',
    link: '/casino/show-games/play/fortune-roulette/11605'
  },
  {
    title: 'Marble Race',
    provider: 'Evolution',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/0f66675daef0486b80b4bf5a1341926d_d136f61044.png',
    link: '/casino/show-games/play/marble-race/11808'
  },
  {
    title: 'Boom City',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/a2059bebd9d7bf2629299135142eb0f0944f73aa_e238111ef0.png',
    link: '/casino/show-games/play/boom-city/11999'
  },
  {
    title: 'Treasure Island',
    provider: 'Pragmatic Play Live',
    img: 'https://cdn.petra.bet/cdn-cgi/image/fit=scale-down,f=avif,w=174,q=100/1/6e4bdc72bfdf4adf96c8f3baa5b3c91c_eab67e5980.png',
    link: '/casino/show-games/play/treasure-island/12538'
  }
];

// Add bilingual content for expert review, user reviews, and section title
const gamesContent = {
  en: {
    sectionTitle: 'Petra.bet Live Casino Games',
    expertReview: {
      title: 'Expert Review',
      text: 'Petra.bet is the #1 choice for live casino fans in Jordan for 2025, offering the highest bonuses, fastest withdrawals, and an unmatched luxury gaming experience. Competitors like Betway and Rabona are good alternatives, but Petra.bet\'s exclusive games, bonuses, and VIP program make it the ideal destination for serious players. If you want the best winning chances, top security, and excellent customer service, Petra.bet is your best pick.'
    },
    userReviews: [
      { name: 'Mohammad Alali', rating: 5, text: 'Best casino site I\'ve tried! Fast withdrawals and great support.' },
      { name: 'Laila Hamdan', rating: 5, text: 'Petra.bet bonuses are unbeatable and I love their exclusive games!' },
      { name: 'Sami Dajani', rating: 4, text: 'Great gaming experience and quick payouts. Highly recommended!' },
      { name: 'Sara Almasri', rating: 5, text: 'Excellent mobile app and support is always available.' },
      { name: 'Ahmad Alzoubi', rating: 5, text: 'Petra.bet is my favorite for live games. Awesome VIP program!' }
    ]
  },
  ar: {
    sectionTitle: 'ألعاب الكازينو المباشر من بيترا.بت',
    expertReview: {
      title: 'تقييم خبير',
      text: 'بيترا.بت هو الخيار الأول لعشاق ألعاب الكازينو المباشر في الأردن لعام 2025، حيث يقدم أعلى المكافآت وأسرع عمليات السحب وتجربة لعب فاخرة لا مثيل لها. المنافسون مثل Betway وRabona يقدمون بدائل جيدة، لكن الألعاب الحصرية والمكافآت وبرنامج VIP في بيترا.بت تجعله الوجهة المثالية للاعبين الجادين. إذا كنت تبحث عن أفضل فرص الربح وأمان عالي وخدمة عملاء ممتازة، بيترا.بت هو خيارك الأمثل.'
    },
    userReviews: [
      { name: 'محمد العلي', rating: 5, text: 'أفضل موقع كازينو جربته! السحب سريع والدعم ممتاز.' },
      { name: 'ليلى حمدان', rating: 5, text: 'مكافآت بيترا.بت لا تقارن وأحب الألعاب الحصرية لديهم!' },
      { name: 'سامي الدجاني', rating: 4, text: 'تجربة ألعاب رائعة وسحوبات سريعة. أنصح الجميع!' },
      { name: 'سارة المصري', rating: 5, text: 'تطبيق الهاتف ممتاز والدعم متوفر دائماً.' },
      { name: 'أحمد الزعبي', rating: 5, text: 'بيترا.بت هو موقعي المفضل للألعاب الحية. برنامج VIP رائع!' }
    ]
  }
};

const affiliateContent = {
  en: {
    sectionTitle: 'Earn with Petra.bet Affiliate Program',
    description: 'Refer and earn big! Join the Petra.bet Affiliate Program and get lifetime commission for every player you refer. Weekly payouts, custom commission plans, and 24/7 support in your language.',
    steps: [
      { icon: '📝', title: 'Register', desc: 'Create your account and get your unique referral link.' },
      { icon: '🔗', title: 'Share', desc: 'Share your referral link with friends and followers.' },
      { icon: '💸', title: 'Earn', desc: 'Earn commission for every bet placed by your referrals.' }
    ],
    advantages: [
      'Weekly payout – get paid every week, instantly',
      'Lifetime commission – keep earning as long as your referrals play',
      'Custom commission plans – tailored to your business',
      'Local currencies supported',
      '24/7 multi-language support'
    ],
    cta: 'Sign Up as an Affiliate',
    ctaLink: 'https://petra.bet/affiliate'
  },
  ar: {
    sectionTitle: 'اربح مع برنامج الشركاء في بيترا.بت',
    description: 'اربح عمولة مدى الحياة عن كل لاعب تقوم بدعوته! انضم إلى برنامج الشركاء في بيترا.بت واحصل على دفعات أسبوعية، وخطط عمولة مخصصة، ودعم متواصل بلغتك.',
    steps: [
      { icon: '📝', title: 'سجل', desc: 'أنشئ حسابك واحصل على رابط الإحالة الخاص بك.' },
      { icon: '🔗', title: 'شارك', desc: 'شارك رابط الإحالة مع أصدقائك ومتابعيك.' },
      { icon: '💸', title: 'اربح', desc: 'احصل على عمولة عن كل رهان يضعه من تدعوهم.' }
    ],
    advantages: [
      'دفعات أسبوعية – استلم أرباحك كل أسبوع فوراً',
      'عمولة مدى الحياة – اربح طالما يلعب من دعوتهم',
      'خطط عمولة مخصصة – تناسب احتياجاتك',
      'دعم العملات المحلية',
      'دعم متواصل 24/7 بلغات متعددة'
    ],
    cta: 'سجل كشريك الآن',
    ctaLink: 'https://petra.bet/affiliate'
  }
};

function maskName(name, lang) {
  if (lang === 'ar') {
    // Arabic: split by space, show first name and first letter of last name + dot
    const parts = name.trim().split(' ');
    if (parts.length > 1) {
      return `${parts[0]} ${parts[1][0]}.`;
    } else {
      return name;
    }
  } else {
    // English: split by space, show first name and first letter of last name + dot
    const parts = name.trim().split(' ');
    if (parts.length > 1) {
      return `${parts[0]} ${parts[1][0]}.`;
    } else {
      return name;
    }
  }
}

function renderGames() {
  const lang = localStorage.getItem('luxury-casino-lang') || 'en';
  const grid = document.getElementById('games-grid');
  grid.innerHTML = '';
  games.forEach(game => {
    const card = document.createElement('div');
    card.className = 'game-card-3d';
    card.innerHTML = `
      <a class="game-card-link" href="${game.link}" target="_blank" rel="noopener"></a>
      <img class="game-card-img" src="${game.img}" alt="${game.title}">
      <div class="game-card-info">
        <div class="game-card-provider">${game.provider}</div>
        <div class="game-card-title">${game.title}</div>
      </div>
    `;
    // 3D hover effect
    card.addEventListener('mousemove', e => {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      const rotateX = ((y - centerY) / centerY) * 10;
      const rotateY = ((centerX - x) / centerX) * 10;
      card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.04)`;
    });
    card.addEventListener('mouseleave', () => {
      card.style.transform = '';
    });
    grid.appendChild(card);
  });

  // Section title
  const sectionTitle = document.querySelector('.section-title');
  if (sectionTitle) sectionTitle.textContent = gamesContent[lang].sectionTitle;

  // Expert review
  const expertReviewDiv = document.querySelector('.expert-review');
  if (expertReviewDiv) {
    expertReviewDiv.innerHTML = `
      <h3 style="color:#fbbf24; font-size:1.25rem; font-weight:800; margin-bottom:0.7rem;">${gamesContent[lang].expertReview.title}</h3>
      <p style="color:#fffbe7; font-size:1.13rem; line-height:1.8; margin:0; font-weight:700; letter-spacing:0.5px; text-shadow:0 2px 10px #fbbf24cc;">${gamesContent[lang].expertReview.text}</p>
    `;
  }

  // User reviews
  const userReviewsDiv = document.querySelector('.user-reviews');
  if (userReviewsDiv) {
    userReviewsDiv.innerHTML = `
      <h4 style="color:#fbbf24; font-size:1.18rem; font-weight:900; margin-bottom:1.1rem; letter-spacing:1px; text-shadow:0 2px 10px #fbbf24cc;">${lang === 'ar' ? 'آراء اللاعبين' : 'User Reviews'}</h4>
      <div style="display:flex;gap:2.2rem;flex-wrap:wrap;justify-content:center;">
        ${gamesContent[lang].userReviews.map(r => `
          <div class="user-review-card" style="background:linear-gradient(120deg,#232946 60%,#fbbf24 120%);border-radius:18px;padding:2.1rem 1.7rem;min-width:260px;max-width:340px;box-shadow:0 4px 24px #fbbf2433;display:flex;flex-direction:column;align-items:center;border:2.5px solid #fbbf24; margin-bottom:1.5rem;">
            <span style="font-weight:900;color:#fffbe7;font-size:1.18rem;letter-spacing:0.5px;">${maskName(r.name, lang)}</span>
            <span style="color:#fbbf24;font-size:1.25rem;font-weight:900;">${'★'.repeat(r.rating)}${r.rating < 5 ? '☆' : ''}</span>
            <span style="font-size:1.09rem;color:#fffbe7;margin-top:0.7rem;text-align:center;font-weight:700;letter-spacing:0.2px;">${r.text}</span>
          </div>
        `).join('')}
      </div>
    `;
  }
}

document.addEventListener('DOMContentLoaded', renderGames);

// Listen for language switch and re-render
window.addEventListener('storage', function(e) {
  if (e.key === 'luxury-casino-lang') {
    renderGames();
  }
});

// Also re-render on language button click (for same-tab switch)
document.getElementById('lang-en')?.addEventListener('click', () => setTimeout(renderGames, 100));
document.getElementById('lang-ar')?.addEventListener('click', () => setTimeout(renderGames, 100));

// Luxury popup for competitor casino buttons
function showLuxuryPopup() {
  const lang = localStorage.getItem('luxury-casino-lang') || 'en';
  const popup = document.getElementById('luxury-popup');
  const overlay = document.getElementById('luxury-popup-overlay');
  const msg = popup.querySelector('.luxury-popup-message');
  const btn = popup.querySelector('.luxury-popup-btn');
  if (lang === 'ar') {
    msg.textContent = 'ما زلنا نجمع المعلومات حول هذا الكازينو. يرجى العودة لاحقاً! في هذه الأثناء، بيترا.بت هو خيارك الأفضل دائماً لتجربة ألعاب فاخرة.';
    btn.textContent = 'استمر مع بيترا.بت';
  } else {
    msg.textContent = 'We are still gathering information about this casino. Please check back soon! Meanwhile, Petra.bet is always your best choice for luxury gaming.';
    btn.textContent = 'Continue with Petra.bet';
  }
  overlay.classList.add('active');
  popup.classList.add('active');
}
function hideLuxuryPopup() {
  document.getElementById('luxury-popup-overlay').classList.remove('active');
  document.getElementById('luxury-popup').classList.remove('active');
}
document.addEventListener('DOMContentLoaded', function() {
  // Attach popup to competitor casino buttons
  document.querySelectorAll('.casino-logo-chip').forEach(chip => {
    if (!chip.classList.contains('petra')) {
      chip.addEventListener('click', function(e) {
        e.preventDefault();
        showLuxuryPopup();
      });
    }
  });
  document.getElementById('luxury-popup-overlay').addEventListener('click', hideLuxuryPopup);
  document.querySelector('.luxury-popup-btn').addEventListener('click', hideLuxuryPopup);
}); 